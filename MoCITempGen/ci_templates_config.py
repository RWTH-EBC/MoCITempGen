from pydantic import BaseModel, Field, field_validator, ValidationInfofrom typing import Optionalfrom ModelicaPyCI.config import FilesConfig, ResultConfig, WhitelistConfigclass StageNamesConfig(BaseModel):    check_setting: str = "check_setting"    build_templates: str = "build_templates"    ref_check: str = "Ref_Check"    lib_merge: str = "merge"    html_whitelist: str = "create_html_whitelist"    create_whitelist: str = "create_model_whitelist"    create_example_whitelist: str = "create_example_whitelist"    html_check: str = "HTML_Check"    style_check: str = "Style_check"    dymola_model_check: str = "model_check"    simulate: str = "simulate"    OM_model_check: str = "OM_model_check"    OM_simulate: str = "OM_simulate"    regression_test: str = "RegressionTest"    update_ref: str = "Update_Ref"    plot_ref: str = "plot_ref"    prepare: str = "prepare"    open_PR: str = "open_PR"    update_whitelist: str = "update_whiteList"    build_ci_structure: str = "build_ci_structure"    deploy: str = "deploy"    whitelist_setting: str = "build_ci_whitelist"    class TemplateFilesConfig(BaseModel):    base: str = "Modelica-CI/templates/ci_templates"    regression_file: str = "UnitTests/regression_test.txt"    check_file: str = "UnitTests/check_model.txt"    simulate_file: str = "UnitTests/simulate_model.txt"    page_file: str = "deploy/gitlab_pages.txt"    ibpsa_merge_file: str = "deploy/IBPSA_Merge.txt"    html_file: str = "syntaxtest/html_check.txt"    style_check_file: str = "syntaxtest/style_check.txt"    structure_file: str = "deploy/create_CI_path.txt"    main_yml_file: str = ".gitlab-ci.txt"    setting_file: str = "cleanupscript/ci_setting.txt"    deploy_test_file: str = "deploy/deploy_ci_tests.txt"    build_whitelist_file: str = "cleanupscript/ci_build_whitelist.txt"    OM_check_file: str = "UnitTests/check_OM_model.txt"    OM_simulate_file: str = "UnitTests/simulate_OM_model.txt"class CommitInteractionConfig(BaseModel):    update_ref: str = "ci_update_ref"    show_ref: str = "ci_show_ref"    dif_ref: str = "ci_dif_ref"    create_model_wh: str = "ci_create_model_wh"    create_html_wh: str = "ci_create_html_wh"    create_simulate_wh: str = "ci_create_example_wh"    simulate: str = "ci_simulate"    OM_simulate: str = "ci_om_simulate"    check: str = "ci_check"    OM_check: str = "ci_om_check"    regression_test: str = "ci_regression_test"    html: str = "ci_html"    setting: str = "ci_setting"    style: str = "ci_style_check"    trigger_ibpsa: str = "ci_trigger_ibpsa"    merge_except: str = "ci_merge_except"    correct_html: str = "ci_correct_html"    build_structure: str = "ci_build_structure"    build_whitelist_structure: str = "ci_build_whitelist"    reference_check: str = "ci_reference_check"class BotMessageConfig(BaseModel):    merge_commit: str    push_commit: str    create_ref_message: str    update_whitelist_commit: str    create_ref_commit: str    create_CI_template_commit: str    update_model_whitelist_commit: str    update_example_whitelist_commit: str    create_structure_commit: str    create_html_file_commit: str    build_whitelist_commit: strclass ModelicaPyCIConfig(BaseModel):    dir: str = "Modelica-GitLab-CI/ci_tests"    OM_python_check_model_file: str = "Modelica-CI/ci_tests/UnitTests/OM_Check.py"    test_validate_file: str = "Modelica-CI/ci_tests/UnitTests/CheckPackages/validatetest.py"    test_reference_file: str = "Modelica-CI/ci_tests/UnitTests/reference_check.py"    google_chart_file: str = "Modelica-CI/ci_tests/Converter/google_charts.py"    api_github_file: str = "Modelica-CI/ci_tests/api_script/api_github.py"    deploy_artifacts_file: str = "Modelica-CI/ci_tests/deploy/deploy_artifacts.py"    html_tidy_file: str = "Modelica-CI/ci_tests/SyntaxTests/html_tidy_errors.py"    syntax_test_file: str = "Modelica-CI/ci_tests/SyntaxTests/StyleChecking.py"    configuration_file: str = "Modelica-CI/CI_test_config.py"    structure_file: str = "Modelica-CI/ci_tests/structure/config_structure.py"    library_merge_file: str = "Modelica-CI/ci_tests/deploy/IBPSA_Merge/library_merge.py"    lock_model_file: str = "Modelica-CI/CITests/Converter/lock_model.py"    config_structure_file: str = "Modelica-CI/ci_tests/structure/config_structure.py"class GeneralConfig(BaseModel):    dymola_image: str = "registry.git.rwth-aachen.de/ebc/ebc_intern/dymola-docker:Dymola_2022-miniconda"    open_modelica_image: str = "registry.git.rwth-aachen.de/ebc/ebc_intern/openmodelica-docker:main"    gitlab_page: str = "https://ebc.pages.rwth-aachen.de/EBC_all/github_ci/AixLib"    github_repository: str = "RWTH-EBC/AixLib"    whitelist_library: str = "IBPSA"    stage_list: list = []    package_list: dict = {}    whitelist_path: str = ""    changed_flag: bool = True    extended_examples_flag: bool = True    html_praefix: str = "correct_HTML_"    expire_in_time: str = "7h"    library: str = "AixLib"    dymola_version: str = "2022"    conda_environment: str = "myenv"    git_url: str = "https://github.com/ibpsa/modelica-ibpsa.git"    xvfb_flag: str = "xvfb-run -n 77"    bot_name: str = "ebc-aixlib-bot"    # [except_branches]    except_branch_list: str = ['IBPSA']    # [main_branches]    main_branch_list: str = ['main', 'development']    buildingspy_upgrade: str = "git+https://github.com/MichaMans/BuildingsPy@testexamplescoverage"    toml_setting_file_template: str = "Setting/CI_setting_template.txt"    toml_setting_file: str = "Setting/CI_setting.toml"    templates_dir: str = "dymola-ci-tests/ci_templates"    stage_names: StageNamesConfig = StageNamesConfig()    modelica_py_ci: ModelicaPyCIConfig = ModelicaPyCIConfig()    template_files: TemplateFilesConfig = TemplateFilesConfig()    commit_interaction: CommitInteractionConfig = CommitInteractionConfig()    ci_config_files: FilesConfig = FilesConfig()    result: ResultConfig = ResultConfig()    whitelist: WhitelistConfig = WhitelistConfig()    bot_messages: Optional[BotMessageConfig] = Field(default=None, validate_default=True)    @field_validator("bot_messages")    @classmethod    def create_messages(cls, bot_messages, info: ValidationInfo):        if bot_messages is not None:            return bot_messages        return BotMessageConfig(            merge_commit=f"CI message from {info.data['bot_name']}. "                         f"Merge of {info.data.get('whitelist_library', 'None')} library. "                         f"Update files {info.data['whitelist'].check_file} and {info.data['whitelist'].html_file}",            push_commit=f"CI message from {info.data['bot_name']}. "                        f"Automatic push of CI with new regression reference files. "                        f"Please pull the new files before push again.",            create_ref_message=f"CI message from {info.data['bot_name']}. "                               f"New reference files were pushed to this branch. "                               f"The job was successfully and the newly added files are tested in another commit.",            update_whitelist_commit=f"CI message from {info.data['bot_name']}. "                                    f"Update or created new whitelist. "                                    f"Please pull the new whitelist before push again.",            create_ref_commit=f"CI message from {info.data['bot_name']}. "                              f"Automatic push of CI with new regression reference files. "                              f"Please pull the new files before push again. "                              f"Plottet Results $GITLAB_Page/$CI_COMMIT_REF_NAME/charts/",            create_CI_template_commit=f"CI message from {info.data['bot_name']}. "                                      f"Automatic push of CI with new created CI templates. "                                      f"Please pull the new files before push again.",            update_model_whitelist_commit=f"CI message from {info.data['bot_name']}. "                                          f"Update file {info.data['whitelist'].check_file}. "                                          f"Please pull the new files before push again.",            update_example_whitelist_commit=f"CI message from {info.data['bot_name']}. "                                            f"Update file {info.data['whitelist'].simulate_file}. "                                            f"Please pull the new files before push again.",            create_structure_commit=f"CI message from {info.data['bot_name']}. "                                    f"Add files for ci structure",            create_html_file_commit=f"CI message from {info.data['bot_name']}. "                                    f"Push new files with corrected html Syntax .",            build_whitelist_commit=f"CI message from {info.data['bot_name']}. "                                   f"Push new created whitelists.",        )
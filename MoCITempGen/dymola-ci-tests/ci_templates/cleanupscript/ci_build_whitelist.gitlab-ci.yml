# image_name : registry.git.rwth-aachen.de/ebc/ebc_intern/dymola-docker:Dymola_2022-miniconda# ci_stage_whitelist_setting : build_ci_whitelist# python_version : myenv# dymola_python_test_url: --single-branch --branch 03_openModelica https://github.com/RWTH-EBC/MoCITempGen.git# dymola_python_config_structure_file:  MoCITempGen/ci_tests/structure/config_structure.py# arg_struc_wh : 2# arg_wh_check : 2# dymola_python_html_tidy_file: MoCITempGen/ci_tests/SyntaxTests/html_tidy_errors.py# arg_wh_html : 2# arg_wh_sim : 2# bot_build_whitelist_commit : CI message from ebc-aixlib-bot. Push new created whitelists.# dymola_ci_test_dir : dymola-ci-tests# ci_build_whitelist_structure_commit : ci_build_whitelist# expire_in_time : 7h# xvfb_flag : xvfb-run -n 77# dymola_python_test_validate_file : MoCITempGen/ci_tests/UnitTests/CheckPackages/validatetest.pystages:    - build_ci_whitelistCI_Whitelist_Setting:    image: registry.git.rwth-aachen.de/ebc/ebc_intern/dymola-docker:Dymola_2022-miniconda    stage: build_ci_whitelist    before_script:        - source activate myenv        - 'which ssh-agent || ( apt-get update -y && apt-get install openssh-client -y )'        - eval $(ssh-agent -s)        - mkdir -p ~/.ssh        - ssh-keyscan github.com >> ~/.ssh/known_hosts        - ssh-agent -a /tmp/ssh_agent.sock > /dev/null        - echo "$GITHUB_PRIVATE_KEY" > ~/.ssh/id_rsa        - chmod 600 ~/.ssh/id_rsa        - git config --global user.name "$GITLAB_USER_NAME"        - git config --global user.email "$GITLAB_USER_EMAIL"        - pip install -e  D:\02_Git\MoCITempGen    script:        - mkdir build_whitelist        - cd build_whitelist        - git clone --single-branch --branch $CI_COMMIT_REF_NAME git@github.com:$Github_Repository.git        - cd $CI_PROJECT_NAME        - git clone --single-branch --branch 03_openModelica https://github.com/RWTH-EBC/MoCITempGen.git        - python MoCITempGen/ci_tests/structure/config_structure.py 2        - python MoCITempGen/ci_tests/SyntaxTests/html_tidy_errors.py 2        - xvfb-run -n 77 python MoCITempGen/ci_tests/UnitTests/CheckPackages/validatetest.py 2        - xvfb-run -n 77 python MoCITempGen/ci_tests/UnitTests/CheckPackages/validatetest.py 2        - message="CI message from ebc-aixlib-bot. Push new created whitelists."        - push_model=$(git ls-files --others --exclude-standard --directory dymola-ci-tests)        - git add  $push_model        - git commit -m "$message"        - git push --force git@github.com:$Github_Repository.git    rules:        - if: $CI_PIPELINE_SOURCE == "push"  &&  $CI_COMMIT_MESSAGE  =~ /ci_build_whitelist/          when: always    artifacts:        paths:            - dymola-ci-tests        expire_in: 7h